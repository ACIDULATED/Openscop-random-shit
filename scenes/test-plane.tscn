[gd_scene load_steps=17 format=3 uid="uid://cwnh2c23sm7dh"]

[ext_resource type="AudioStream" uid="uid://do1oh0451fegy" path="res://music/level2.mp3" id="1_ukff2"]
[ext_resource type="PackedScene" uid="uid://dng2iqsytyb72" path="res://scenes/objects/setup/player/player.tscn" id="2_a0geb"]
[ext_resource type="PackedScene" uid="uid://bttaj8jiwmjv6" path="res://scenes/objects/interaction_symbol.tscn" id="2_fd03b"]
[ext_resource type="Shader" path="res://shaders/fog shaders/psx_fog.gdshader" id="3_mdjse"]
[ext_resource type="PackedScene" uid="uid://c0qk7ipm844jl" path="res://scenes/objects/piece.tscn" id="4_1gmmf"]

[sub_resource type="QuadMesh" id="QuadMesh_8dcwh"]
size = Vector2(4, 4)
orientation = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_eyyga"]
render_priority = 0
shader = ExtResource("3_mdjse")
shader_parameter/modulate_color = Color(0, 0.643137, 0.105882, 1)
shader_parameter/alpha_color = Color(0, 0, 0, 1)
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/uv_pan_velocity = Vector2(0, 0)
shader_parameter/fog = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_8t276"]
data = PackedVector3Array(2, 0, 2, -2, 0, 2, 2, 0, -2, -2, 0, 2, -2, 0, -2, 2, 0, -2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8523r"]
render_priority = 0
shader = ExtResource("3_mdjse")
shader_parameter/modulate_color = Color(1, 0.572549, 1, 1)
shader_parameter/alpha_color = Color(0, 0, 0, 1)
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/uv_pan_velocity = Vector2(0, 0)
shader_parameter/fog = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5j63r"]
data = PackedVector3Array(2, 0, 2, -2, 0, 2, 2, 0, -2, -2, 0, 2, -2, 0, -2, 2, 0, -2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_tl6wd"]
data = PackedVector3Array(2, 0, 2, -2, 0, 2, 2, 0, -2, -2, 0, 2, -2, 0, -2, 2, 0, -2)

[sub_resource type="QuadMesh" id="QuadMesh_32ilc"]
size = Vector2(4, 4)
orientation = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g2cgu"]
render_priority = 0
shader = ExtResource("3_mdjse")
shader_parameter/modulate_color = Color(0.619608, 0.619608, 0.619608, 1)
shader_parameter/alpha_color = Color(0, 0, 0, 1)
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/uv_pan_velocity = Vector2(0, 0)
shader_parameter/fog = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_b57xb"]
data = PackedVector3Array(2, 0, 2, -2, 0, 2, 2, 0, -2, -2, 0, 2, -2, 0, -2, 2, 0, -2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_fwgxa"]
render_priority = 0
shader = ExtResource("3_mdjse")
shader_parameter/modulate_color = Color(0.588235, 0.298039, 0.270588, 1)
shader_parameter/alpha_color = Color(0, 0, 0, 1)
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/uv_pan_velocity = Vector2(0, 0)
shader_parameter/fog = false

[sub_resource type="Environment" id="Environment_y16bb"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[node name="test-plane" type="Node3D"]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("1_ukff2")
volume_db = 1.0
autoplay = true

[node name="player_root" parent="AudioStreamPlayer" instance=ExtResource("2_a0geb")]

[node name="grass" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -2)

[node name="grass_mesh" type="MeshInstance3D" parent="grass"]
mesh = SubResource("QuadMesh_8dcwh")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_eyyga")

[node name="grass" type="CollisionShape3D" parent="grass"]
shape = SubResource("ConcavePolygonShape3D_8t276")

[node name="evencare" type="Area3D" parent="."]

[node name="evencare2" type="MeshInstance3D" parent="evencare"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -2)
mesh = SubResource("QuadMesh_8dcwh")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_8523r")

[node name="evencare" type="CollisionShape3D" parent="evencare"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -2)
shape = SubResource("ConcavePolygonShape3D_5j63r")

[node name="cement" type="Area3D" parent="."]

[node name="cement" type="CollisionShape3D" parent="cement"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 2)
shape = SubResource("ConcavePolygonShape3D_tl6wd")

[node name="cement2" type="MeshInstance3D" parent="cement"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 2)
mesh = SubResource("QuadMesh_32ilc")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_g2cgu")

[node name="school" type="Area3D" parent="."]

[node name="school" type="CollisionShape3D" parent="school"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
shape = SubResource("ConcavePolygonShape3D_b57xb")

[node name="school2" type="MeshInstance3D" parent="school"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
mesh = SubResource("QuadMesh_32ilc")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_fwgxa")

[node name="interaction" parent="." instance=ExtResource("2_fd03b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 0)
dialogue_id = "textbox_1"
textbox_background = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_y16bb")

[node name="pieces" type="Node3D" parent="."]

[node name="piece_root" parent="pieces" instance=ExtResource("4_1gmmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 1)

[node name="piece_root2" parent="pieces" instance=ExtResource("4_1gmmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 2)

[node name="piece_root3" parent="pieces" instance=ExtResource("4_1gmmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 3)

[node name="piece_root4" parent="pieces" instance=ExtResource("4_1gmmf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 4)
